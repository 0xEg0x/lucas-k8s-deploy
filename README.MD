# Projeto Fullstack Kubernetes (K8s) - IFPB

Este projeto consiste em uma aplicaÃ§Ã£o fullstack (Frontend React, Backend Flask e Banco de Dados PostgreSQL) conteinerizada e orquestrada via Kubernetes. A arquitetura foi desenhada para garantir alta disponibilidade, persistÃªncia de dados e roteamento inteligente de trÃ¡fego.

## ğŸ—ï¸ Arquitetura do Cluster

A aplicaÃ§Ã£o estÃ¡ dividida em dois namespaces principais para isolamento de recursos:

* **Namespace `app`**: ContÃ©m o Frontend (Vite/React) e o Backend (Flask API).
* **Namespace `database`**: ContÃ©m o Banco de Dados PostgreSQL gerenciado por um StatefulSet.

## ğŸš€ Tecnologias Utilizadas

* **Frontend**: React + Vite
* **Backend**: Python (Flask) + SQLAlchemy + Psycopg2
* **Banco de Dados**: PostgreSQL 15-alpine
* **Infraestrutura**: Kubernetes (Namespaces, Deployments, StatefulSets, Services, PVC, Secrets, Ingress)

## ğŸ”§ Como Rodar o Projeto

### PrÃ©-requisitos

* Cluster Kubernetes (Kind, Minikube ou Docker Desktop)
* Ingress Nginx Controller instalado no cluster

### 1. Clonar o repositÃ³rio

```bash
git clone https://github.com/0xEg0x/lucas-k8s-deploy.git
cd lucas-k8s-deploy.git
```

### 2. Aplicar as configuraÃ§Ãµes no Kubernetes

Siga a ordem de execuÃ§Ã£o para garantir que as dependÃªncias (namespaces e segredos) subam primeiro:

```bash
# Criar Namespaces
kubectl apply -f namespace.yaml

# Configurar Banco de Dados (Namespace: database)
kubectl apply -f database/

# Configurar Backend (Namespace: app)
kubectl apply -f backend/

# Configurar Frontend (Namespace: app)
kubectl apply -f frontend/deployment.yaml

# Configurar Roteamento (Ingress)
kubectl apply -f ingress/ingress.yaml
```

### 3. Acessar a AplicaÃ§Ã£o

Se estiver usando Kind, utilize o port-forward para o Ingress Controller:

```bash
kubectl port-forward -n ingress-nginx service/ingress-nginx-controller 8080:80
```

Acesse no navegador: `http://localhost:8080`

## ğŸ“Š Recursos Implementados (Checklist de AvaliaÃ§Ã£o)

* [x] **PersistÃªncia**: Uso de `PersistentVolumeClaim` para o banco de dados
* [x] **Escalabilidade**: Deployments com 2 rÃ©plicas para Frontend e Backend
* [x] **SeguranÃ§a**: Uso de `Secrets` para credenciais sensÃ­veis de banco
* [x] **Roteamento**: Ingress configurado com caminhos `/api` (backend) e `/` (frontend)
* [x] **SaÃºde**: Rota de `/health` no backend para monitoramento

---

## ğŸ“ Contato

**Lucas** - [@0xEg0x](https://github.com/0xEg0x)

**Link do Projeto:** [https://github.com/0xEg0x/lucas-k8s-deploy.git](https://github.com/0xEg0x/lucas-k8s-deploy.git)

---

<div align="center">

**â­ Se este projeto foi Ãºtil, considere dar uma estrela!**

Made with â¤ï¸ and â˜• by Lucas

</div>
